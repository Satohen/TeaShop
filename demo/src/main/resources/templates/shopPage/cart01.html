<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!--==CSS========================-->
	<script type="text/javascript" src="https://code.jquery.com/jquery-3.7.1.js"></script>
	<link rel="stylesheet" href="/frontstage/css/nav.css">
	<link rel="stylesheet" href="/frontstage/css/dingcha.css">
	<link rel="stylesheet" href="/frontstage/css/footer.css">
	<!--Bootstrap外部連結檔案(CSS/JavaSprite)-->
	<link rel="stylesheet" href="/frontstage/_css/bootstrap.css">
	<!-- sever傳遞參數 -->
	<script th:inline="javascript">
        /*<![CDATA[*/
        var shopId = /*[[${shopId}]]*/ null;
        var logInuserName=/*[[${userName}]]*/null;
        var logInorNot = logInuserName!=null;
        /*]]>*/
    </script>
	<script src="/frontstage/_js/popper.min.js"></script>
	<script src="/frontstage/js/main.js"></script>
	<script src="/frontstage/_js/bootstrap.js"></script>
	<script src="/frontstage/js/logOut.js"></script>
	<!-- <script type="text/javascript" src="./jquery.store.js"></script> -->
	<!--web icon-->
	<!-- <link rel="shortcut icon" href="../code-4/logo/white/logo_04.png" type="image/x-icon" /> -->
	<!--======================================================================================================================= -->
</head>

<body>

	<!--nav導覽列頭-->
		<nav class="navbar navbar-expand-lg bg-light fixed-top py-0 " id="">
		<div class="container-fluid dingchaHead py-3" style="background-color: #95A58E;">
			<!-- Logo、官網名，連結首頁 -->
			<a th:href="@{'/shop/' + ${shopId} + '/shopindex'}" class="navbar-brand ms-3 py-0">
				<img src="/frontstage/logo/white/logo_04.png" style="height: 55px; width: auto;">
			</a>

			<!-- 響應式的導航欄 -->
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup"
				aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>

			<!-- 導覽欄About、Shopping、Connection、登入、購物車 -->
			<div class="collapse navbar-collapse  " id="navbarNavAltMarkup">
				<div class="navbar-nav mx-auto text-center  ">
					<a class="nav-link" th:href="@{'/shop/' + ${shopId} + '/shopindex'}">Home</a>
					<a class="nav-link" th:href="@{'/shop/' + ${shopId} + '/aboutUs'}">About</a>
					<a class="nav-link" th:href="@{'/shop/' + ${shopId} + '/shoppingPage'}">Shopping</a>
					<a class="nav-link" th:href="@{'/shop/' + ${shopId} + '/contactUs'}">Connection</a>
				</div>
				<!-- 登入Login、購物車按鈕icon -->


				<div class="dropdown me-1 row">
					<button class="btn  my-2 my-sm-0 dropdown-toggle col" type="button" data-bs-toggle="dropdown"
						aria-expanded="false"
						style="color: #ffffff; display: flex; flex-direction: row; align-items: center;">
						<img src="/backstage/icon/member.png" class="me-2" style="height: 30px; display: inline-block;"
							alt="">
						<span th:text="${userName!=null? userName:'Login'}" style="display: inline-block;"></span>
					</button>
					<ul class="dropdown-menu loginMenu text-center " id="navMembermenu" th:if="${userName!=null}">

						<li><a class="dropdown-item  mx-auto mb-1 px-0 w-75 rounded" id="navSignout" type="button"
								href="#"><img src="/frontstage/icon/white/leave.png " alt="" class="me-2 mb-1"
									style="height: 20px;width: auto;">登出</a></li>
						
						<li><a class="dropdown-item  mx-auto mb-1 px-0 w-75 rounded" id="navSetting" type="button"
								th:href="@{'/shop/' + ${shopId} + '/member'}" href="#"><img src="/frontstage/icon/white/set.png " alt="" class="me-2 mb-1"
									style="height: 20px;width: auto;">設定</a></li>
					</ul>

					<ul class="dropdown-menu loginMenu text-center " id="navMembermenu" th:else>
						<li><a class="dropdown-item  mx-auto mb-1 px-0 w-75 rounded" id="navLogin" type="button"
								th:href="@{'/shop/' + ${shopId} + '/login'}">
								<img src="/frontstage/icon/white/login.png " alt="" class="me-2 mb-1"
									style="height: 20px;width: auto;">登入</a></li>

						<li><a class="dropdown-item  mx-auto mb-1 px-0 w-75 rounded" id="navSetting" type="button"
								th:href="@{'/shop/' + ${shopId} + '/member'}" href=""><img src="/frontstage/icon/white/set.png " alt="" class="me-2 mb-1"
									style="height: 20px;width: auto;">設定</a></li>
					</ul>

					<button class="btn my-2 my-sm-0 col navCarticon" type="button">
						<a th:href="@{'/shop/' + ${shopId} + '/shoppingCart'}"><img
								src="/frontstage/icon/white/cart.png" style="width:30px; height: 30px;" alt="購物車"></a>
					</button>
				</div>
			</div>
		</div>
	</nav>
		<!--nav導覽列尾------------------- -->

	<!-- 主要畫面 --> <!--修改左右margin-->
	<div id="site" class="siteH1">

		<div id="content" class="mx-4 w-100 ">

			<h1 class="h1exceptMember" >購物車</h1>
			<form id="shopping-cart">
				<div class="shopping-cart text-center">

					<div class="row cart-head text-center rounded">
						<div class="col-2">商品列表</div>
						<div class="col-2">數量</div>
						<div class="col-2">價格</div>
						<div class="col-2">折扣後</div>
						<div class="col-2">狀態</div>
						<div class="col-2">總計</div>
					</div>

					<div class="cart-body text-center rounded">
						<img src="/frontstage/icon/grey/cart.png" alt="空購物車icon" class="product-cart">
						<p class="mb-0" style="height: 8em; font-size: 1.5rem;">空購物車</p>
					</div>

				</div>

				<ul id="shopping-cart-actions" class="flex-container" th:if="${userName!=null}">
					<li class="checkout-btn">
						<a class="clear01 btn text-center py-1" onclick="clearLocalStorage()">清除</a>						
						<a  onclick="checkcart()" class="btn text-center cartCheckout py-1">結帳</a>
					</li>
				</ul>
				<ul id="shopping-cart-actions" class="flex-container" th:if="${userName==null}">
					<li class="checkout-btn">
						<a class="clear01 btn text-center py-1" onclick="clearLocalStorage()">清除</a>						
						<a th:href="@{'/shop/' + ${shopId} + '/login'}" class="btn text-center cartCheckout py-1">結帳</a>
					</li>
				</ul>
			</form>
		</div>

	</div>
</body>

<!--footer-->
<footer class="text-center py-2 sticky-top" style="background-color: #95A58E;">
	<div class="container">

		<img src="/frontstage/logo/white/logo_01.png" alt="版權商標" class="footer-icon-img">

		<p class="mb-0">版權所有 &copy; 頂茶TopTea.</p>
	</div>
</footer>
<script>
	function checkcart(){
		if(localStorage.getItem("cart")==null||localStorage.getItem("cart").length==0){
			alert("購物車沒有商品")
		}else{
			window.location.href='/shop/' + shopId + '/orderPayment'
		}
	}
</script>